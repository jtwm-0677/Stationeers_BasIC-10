<UserControl x:Class="BasicToMips.UI.VisualScripting.Animations.AnimationSettingsPanel"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d"
             d:DesignHeight="450" d:DesignWidth="400">
    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="16">
            <TextBlock Text="Visual Scripting Animations"
                       FontSize="18"
                       FontWeight="SemiBold"
                       Margin="0,0,0,16"/>

            <!-- Master Enable -->
            <Border Background="{DynamicResource SecondaryBackgroundBrush}"
                    BorderBrush="{DynamicResource BorderBrush}"
                    BorderThickness="1"
                    CornerRadius="4"
                    Padding="12"
                    Margin="0,0,0,12">
                <CheckBox x:Name="EnableAnimationsCheckBox"
                          Content="Enable Animations"
                          FontWeight="SemiBold"
                          Checked="EnableAnimationsCheckBox_Changed"
                          Unchecked="EnableAnimationsCheckBox_Changed"/>
            </Border>

            <!-- Animation Settings Grid -->
            <StackPanel x:Name="AnimationSettingsContainer" IsEnabled="True">

                <!-- Animation Speed -->
                <GroupBox Header="Animation Speed" Margin="0,0,0,12">
                    <StackPanel Margin="8">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <Slider x:Name="SpeedSlider"
                                    Grid.Column="0"
                                    Minimum="0.5"
                                    Maximum="2.0"
                                    Value="1.0"
                                    TickFrequency="0.1"
                                    IsSnapToTickEnabled="True"
                                    ValueChanged="SpeedSlider_ValueChanged"/>
                            <TextBlock x:Name="SpeedValueText"
                                       Grid.Column="1"
                                       Text="1.0x"
                                       Width="50"
                                       Margin="8,0,0,0"
                                       VerticalAlignment="Center"
                                       HorizontalAlignment="Right"/>
                        </Grid>
                        <TextBlock Text="Slower animations use less CPU"
                                   FontSize="10"
                                   Foreground="{DynamicResource SecondaryTextBrush}"
                                   Margin="0,4,0,0"/>
                    </StackPanel>
                </GroupBox>

                <!-- Particle Density -->
                <GroupBox Header="Particle Effects" Margin="0,0,0,12">
                    <StackPanel Margin="8">
                        <ComboBox x:Name="ParticleCountComboBox"
                                  SelectionChanged="ParticleCountComboBox_SelectionChanged">
                            <ComboBoxItem Content="Low (Better Performance)" Tag="Low"/>
                            <ComboBoxItem Content="Medium (Balanced)" Tag="Medium" IsSelected="True"/>
                            <ComboBoxItem Content="High (Best Quality)" Tag="High"/>
                        </ComboBox>
                        <TextBlock Text="Number of particles flowing on wires"
                                   FontSize="10"
                                   Foreground="{DynamicResource SecondaryTextBrush}"
                                   Margin="0,4,0,0"/>
                    </StackPanel>
                </GroupBox>

                <!-- Visual Effects -->
                <GroupBox Header="Visual Effects" Margin="0,0,0,12">
                    <StackPanel Margin="8">
                        <CheckBox x:Name="EnableGlowCheckBox"
                                  Content="Glow Effects"
                                  IsChecked="True"
                                  Margin="0,0,0,8"
                                  Checked="EffectCheckBox_Changed"
                                  Unchecked="EffectCheckBox_Changed"/>

                        <CheckBox x:Name="EnableValuePopupsCheckBox"
                                  Content="Value Change Popups"
                                  IsChecked="True"
                                  Margin="0,0,0,8"
                                  Checked="EffectCheckBox_Changed"
                                  Unchecked="EffectCheckBox_Changed"/>

                        <CheckBox x:Name="EnableExecutionHighlightCheckBox"
                                  Content="Execution Highlighting"
                                  IsChecked="True"
                                  Margin="0,0,0,8"
                                  Checked="EffectCheckBox_Changed"
                                  Unchecked="EffectCheckBox_Changed"/>

                        <CheckBox x:Name="EnableNodeHoverCheckBox"
                                  Content="Node Hover Effects"
                                  IsChecked="True"
                                  Margin="0,0,0,8"
                                  Checked="EffectCheckBox_Changed"
                                  Unchecked="EffectCheckBox_Changed"/>

                        <CheckBox x:Name="EnableCanvasAnimationsCheckBox"
                                  Content="Smooth Zoom/Pan"
                                  IsChecked="True"
                                  Margin="0,0,0,8"
                                  Checked="EffectCheckBox_Changed"
                                  Unchecked="EffectCheckBox_Changed"/>

                        <CheckBox x:Name="EnableErrorAnimationsCheckBox"
                                  Content="Error Shake Animations"
                                  IsChecked="True"
                                  Checked="EffectCheckBox_Changed"
                                  Unchecked="EffectCheckBox_Changed"/>
                    </StackPanel>
                </GroupBox>

                <!-- Performance Mode -->
                <GroupBox Header="Performance" Margin="0,0,0,12">
                    <StackPanel Margin="8">
                        <CheckBox x:Name="PerformanceModeCheckBox"
                                  Content="Performance Mode (Reduces effects)"
                                  IsChecked="False"
                                  Margin="0,0,0,8"
                                  Checked="EffectCheckBox_Changed"
                                  Unchecked="EffectCheckBox_Changed"/>

                        <TextBlock Text="Auto-enable when node count exceeds:"
                                   FontSize="11"
                                   Margin="0,0,0,4"/>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <Slider x:Name="ThresholdSlider"
                                    Grid.Column="0"
                                    Minimum="20"
                                    Maximum="200"
                                    Value="50"
                                    TickFrequency="10"
                                    IsSnapToTickEnabled="True"
                                    ValueChanged="ThresholdSlider_ValueChanged"/>
                            <TextBlock x:Name="ThresholdValueText"
                                       Grid.Column="1"
                                       Text="50"
                                       Width="50"
                                       Margin="8,0,0,0"
                                       VerticalAlignment="Center"
                                       HorizontalAlignment="Right"/>
                        </Grid>
                    </StackPanel>
                </GroupBox>

                <!-- Preview -->
                <GroupBox Header="Preview" Margin="0,0,0,12">
                    <Border x:Name="PreviewCanvas"
                            Height="80"
                            Background="{DynamicResource EditorBackgroundBrush}"
                            BorderBrush="{DynamicResource BorderBrush}"
                            BorderThickness="1"
                            CornerRadius="4"
                            Margin="8">
                        <TextBlock Text="Animation preview will appear here during simulation"
                                   HorizontalAlignment="Center"
                                   VerticalAlignment="Center"
                                   Foreground="{DynamicResource SecondaryTextBrush}"
                                   FontStyle="Italic"/>
                    </Border>
                </GroupBox>

            </StackPanel>

            <!-- Reset Button -->
            <Button Content="Reset to Defaults"
                    HorizontalAlignment="Left"
                    Padding="16,8"
                    Click="ResetButton_Click"/>
        </StackPanel>
    </ScrollViewer>
</UserControl>
