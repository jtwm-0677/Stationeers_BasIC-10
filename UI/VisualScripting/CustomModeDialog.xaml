<Window x:Class="BasicToMips.UI.VisualScripting.CustomModeDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Custom Experience Mode Settings"
        Width="600" Height="700"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        Background="#1E293B"
        Style="{DynamicResource MainWindowStyle}">
    <Window.Resources>
        <Style TargetType="CheckBox">
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Margin" Value="0,4"/>
        </Style>
        <Style TargetType="RadioButton">
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Margin" Value="4,2"/>
        </Style>
        <Style TargetType="GroupBox">
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderBrush" Value="#475569"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Margin" Value="0,8"/>
            <Setter Property="Padding" Value="8"/>
        </Style>
        <Style TargetType="TextBlock">
            <Setter Property="Foreground" Value="#94A3B8"/>
            <Setter Property="TextWrapping" Value="Wrap"/>
        </Style>
    </Window.Resources>

    <Grid Margin="16">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <StackPanel Grid.Row="0" Margin="0,0,0,16">
            <TextBlock Text="Custom Experience Mode"
                       FontSize="20"
                       FontWeight="Bold"
                       Foreground="White"
                       Margin="0,0,0,8"/>
            <TextBlock Text="Customize the visual scripting interface to your preferences. Changes apply immediately."
                       Foreground="#94A3B8"/>
        </StackPanel>

        <!-- Settings ScrollViewer -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <StackPanel>
                <!-- UI Display Settings -->
                <GroupBox Header="UI Display">
                    <StackPanel>
                        <CheckBox x:Name="ShowCodePanelCheck" Content="Show Code Panel"/>
                        <CheckBox x:Name="ShowIC10ToggleCheck" Content="Show IC10 Toggle (requires code panel)"/>
                        <CheckBox x:Name="ShowRegisterInfoCheck" Content="Show Register Information"/>
                        <CheckBox x:Name="ShowLineNumbersCheck" Content="Show Line Numbers"/>
                        <CheckBox x:Name="ShowGridSnapCheck" Content="Show Grid Snap Controls"/>
                        <CheckBox x:Name="ShowAdvancedPropertiesCheck" Content="Show Advanced Node Properties"/>
                    </StackPanel>
                </GroupBox>

                <!-- Node Label Style -->
                <GroupBox Header="Node Label Style">
                    <StackPanel>
                        <RadioButton x:Name="FriendlyLabelRadio"
                                   GroupName="LabelStyle"
                                   Content="Friendly - User-friendly descriptions (e.g., 'Turn Light On')"/>
                        <RadioButton x:Name="MixedLabelRadio"
                                   GroupName="LabelStyle"
                                   Content="Mixed - Balanced technical/friendly (e.g., 'sensor.Temperature')"/>
                        <RadioButton x:Name="TechnicalLabelRadio"
                                   GroupName="LabelStyle"
                                   Content="Technical - IC10-like syntax (e.g., 'l r0 d0 Temperature')"/>
                    </StackPanel>
                </GroupBox>

                <!-- Display Options -->
                <GroupBox Header="Display Options">
                    <StackPanel>
                        <CheckBox x:Name="ShowExecutionPinsCheck" Content="Show Execution Pins (flow control)"/>
                        <CheckBox x:Name="ShowDataTypesCheck" Content="Show Data Type Indicators"/>
                        <CheckBox x:Name="ShowOptimizationHintsCheck" Content="Show Optimization Hints"/>
                    </StackPanel>
                </GroupBox>

                <!-- Error Messages -->
                <GroupBox Header="Error Message Style">
                    <StackPanel>
                        <RadioButton x:Name="SimpleErrorsRadio"
                                   GroupName="ErrorStyle"
                                   Content="Simple - User-friendly messages"/>
                        <RadioButton x:Name="DetailedErrorsRadio"
                                   GroupName="ErrorStyle"
                                   Content="Detailed - Explanations with context"/>
                        <RadioButton x:Name="TechnicalErrorsRadio"
                                   GroupName="ErrorStyle"
                                   Content="Technical - IC10 details and line numbers"/>
                    </StackPanel>
                </GroupBox>

                <!-- Behavior -->
                <GroupBox Header="Behavior">
                    <StackPanel>
                        <CheckBox x:Name="AutoCompileCheck" Content="Auto-compile on graph changes"/>
                    </StackPanel>
                </GroupBox>

                <!-- Available Node Categories -->
                <GroupBox Header="Available Node Categories">
                    <StackPanel>
                        <TextBlock Text="Select which node categories are available:"
                                 Margin="0,0,0,8"/>
                        <Button Content="Select All"
                              Click="SelectAllCategories_Click"
                              Margin="0,0,4,8"
                              HorizontalAlignment="Left"
                              Padding="8,4"/>
                        <Button Content="Deselect All"
                              Click="DeselectAllCategories_Click"
                              Margin="0,0,0,8"
                              HorizontalAlignment="Left"
                              Padding="8,4"/>

                        <CheckBox x:Name="CatVariablesCheck" Content="Variables &amp; Constants"/>
                        <CheckBox x:Name="CatDevicesCheck" Content="Device Operations"/>
                        <CheckBox x:Name="CatBasicMathCheck" Content="Basic Math"/>
                        <CheckBox x:Name="CatFlowControlCheck" Content="Flow Control"/>
                        <CheckBox x:Name="CatMathFunctionsCheck" Content="Math Functions"/>
                        <CheckBox x:Name="CatLogicCheck" Content="Logic &amp; Comparison"/>
                        <CheckBox x:Name="CatArraysCheck" Content="Arrays"/>
                        <CheckBox x:Name="CatBitwiseCheck" Content="Bitwise Operations"/>
                        <CheckBox x:Name="CatAdvancedCheck" Content="Advanced Features"/>
                        <CheckBox x:Name="CatStackCheck" Content="Stack Operations"/>
                        <CheckBox x:Name="CatTrigonometryCheck" Content="Trigonometry"/>
                    </StackPanel>
                </GroupBox>

                <!-- Presets -->
                <GroupBox Header="Load Preset">
                    <StackPanel Orientation="Horizontal">
                        <Button Content="Load Beginner"
                              Click="LoadBeginnerPreset_Click"
                              Margin="0,0,8,0"
                              Padding="8,4"/>
                        <Button Content="Load Intermediate"
                              Click="LoadIntermediatePreset_Click"
                              Margin="0,0,8,0"
                              Padding="8,4"/>
                        <Button Content="Load Expert"
                              Click="LoadExpertPreset_Click"
                              Padding="8,4"/>
                    </StackPanel>
                </GroupBox>
            </StackPanel>
        </ScrollViewer>

        <!-- Buttons -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,16,0,0">
            <Button Content="Save"
                    Click="Save_Click"
                    IsDefault="True"
                    Width="100"
                    Height="32"
                    Margin="0,0,8,0"/>
            <Button Content="Cancel"
                    Click="Cancel_Click"
                    IsCancel="True"
                    Width="100"
                    Height="32"/>
        </StackPanel>
    </Grid>
</Window>
