# QA Test Results - v3.0.3

**Test Date:** 2025-12-03
**Tester:** Claude Code (QA Instance)
**Version:** v3.0.3

---

## Test Summary

| Test | Description | Result |
|------|-------------|--------|
| 1 | UI Text Field Editing (Bug 5) | FAIL |
| 2 | IC10 Device Statement (Issue 3) | PASS |
| 3 | VS Device Node IC10 | PASS |

---

## Test 1: UI Text Field Editing

**Purpose:** Verify node property text fields are clickable and editable in VS UI

**Steps:**
1. Opened Visual Scripting window
2. Added NamedDevice node
3. Attempted to click on "Alias Name" text field
4. Attempted to type "sensor"
5. Attempted to click on "Device Type" text field
6. Attempted to type "StructureGasSensor"

**Expected:**
- Text fields are clickable and editable
- Cursor appears when field is focused
- Text can be typed

**Actual:**
- Clicking on text fields does not work
- No visible cursor appears
- Cannot type in any field

**Status: FAIL** - Bug 5 NOT FIXED

**Notes:**
- MCP property updates still work (`update_property`)
- Only UI interaction is broken
- Needs: click-to-focus behavior, visible cursor, keyboard input handling

---

## Test 2: IC10 Device Statement

**Purpose:** Verify DEVICE statement compiles to proper IC10 hash code

**Steps:**
1. Set main editor code to: `DEVICE myPanel "StructureSolarPanel"`
2. Compiled via MCP
3. Checked IC10 output

**Input BASIC:**
```basic
DEVICE myPanel "StructureSolarPanel"
```

**Output IC10:**
```ic10
move r0 -2045627372  # DEVICE myPanel "StructureSolarPanel"
```

**Expected:** IC10 shows hash-based move instruction with device hash
**Actual:** Correct hash (-2045627372) stored in register with comment

**Status: PASS** - Issue 3 FIXED (was previously generating `jal myPanel`)

---

## Test 3: VS Device Node IC10

**Purpose:** Verify VS-generated device nodes produce correct IC10

**Steps:**
1. Cleared VS canvas
2. Added EntryPoint node
3. Added NamedDevice node with properties:
   - AliasName: "sensor"
   - PrefabName: "StructureGasSensor"
4. Checked generated BASIC and IC10 code

**Generated BASIC:**
```basic
# --- Devices ---
DEVICE sensor "StructureGasSensor"

# --- Main ---
# --- Program Start ---
```

**Generated IC10:**
```ic10
move r0 -1252983604  # DEVICE sensor "StructureGasSensor"
```

**Expected:**
- BASIC shows `DEVICE sensor "StructureGasSensor"`
- IC10 shows proper hash-based code

**Actual:** Both outputs correct

**Status: PASS**

---

## Bug Status Update

| Bug | Description | Previous Status | Current Status |
|-----|-------------|-----------------|----------------|
| Bug 2 | Code pane auto-refresh | FIXED (Round 2) | FIXED |
| Bug 3 | MCP add_node properties | FIXED (Round 2) | FIXED |
| Bug 4 | MCP update_property | FIXED (Round 2) | FIXED |
| Bug 5 | UI text fields not editable | NOT FIXED | NOT FIXED |
| Issue 3 | IC10 jal for device decl | NEW (Round 2) | FIXED |

---

## Outstanding Issues

### BLOCKER: UI Text Field Input (Bug 5)
- **Severity:** BLOCKER - Visual Scripting is unusable for most users
- **Nodes affected:** NamedDevice, Const, Variable, and likely all nodes with editable properties
- **Symptom:** Text fields display correctly but do not respond to mouse clicks or keyboard input
- **Impact:** Users cannot configure nodes via the Visual Scripting UI
- **Workaround:** NONE - MCP is not a viable option for regular users
- **Required fix:**
  1. Implement click-to-focus for TextBox controls
  2. Add visible cursor/caret
  3. Handle keyboard input events
- **Note:** This bug makes NamedDevice, Const, and other configurable nodes completely unusable in the VS interface. Must be fixed before VS can be considered functional.

### Previously Reported (Not Tested This Round)
- Bug 1: Unconnected nodes still generate code
- Bug 6: Zoom/pan breaks at grid edges
- Bug 7: Node colors should match syntax theme (enhancement)
- Dead code comments in HttpApiServer.cs (lines 371, 1438)
- Missing API Server settings in Settings window

---

## Recommendations

### MUST FIX BEFORE RELEASE
1. **Bug 5: TextBox input handling** - Visual Scripting is non-functional without this fix. Users cannot configure NamedDevice, Const, Variable, or any node with editable properties.

### For Next Release
1. UI refresh when MCP updates properties
2. Remove dead Assistant window code/comments
3. Bug 1: Only generate code for connected nodes
4. Bug 6: Fix zoom/pan at grid edges

---

**End of Test Report**
